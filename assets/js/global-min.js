function raven_list_layout($){var e="raven_product_layout_switcher",s=".products",a=$(window).width();$(".product-layout").on("click",".product-selector",(function(a){var i=$(this).data("target"),t=$(this).siblings();siblingData=t.data("target"),setCookie(e,i,10),$(s).addClass(i).removeClass(siblingData),t.removeClass("selected"),$(this).addClass("selected")})),a<=700&&$(s).hasClass("list")&&$(s).addClass("grid").removeClass("list"),$(window).resize((function(){"list"==getCookie(e)&&$(".product-list-content")[0]&&((a=$(window).width())<=700?$(s).addClass("grid").removeClass("list"):$(s).addClass("list").removeClass("grid"))}))}function setCookie(e,s,a){const i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);let t="expires="+i.toUTCString();document.cookie=e+"="+s+";"+t+";path=/"}function getCookie(e){let s=e+"=",a=document.cookie.split(";");for(let e=0;e<a.length;e++){let i=a[e];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(s))return i.substring(s.length,i.length)}return""}function raven_main_navigation($){var e=$("#site-navigation"),s=$(".menu-toggle"),a=$(".menu-item-toggle"),i="300",t=e.is(":visible");s.on("click",(function(s){var a=e.is(":visible"),t=$(this).find("i");e.slideUp(i),t.removeClass("fa-times"),a||(e.slideDown(i),t.addClass("fa-times")),s.stopPropagation()})),t||$(document).on("click touchstart",(function(){e.slideUp(i),s.find("i").removeClass("fa-times")})),e.on("click touchstart",(function(e){e.stopPropagation()})),a.on("click",(function(){var e=$(".sub-menu"),s=$(this).parent().find(".sub-menu"),t=s.is(":visible"),n=$(this).find("i"),o=a.find("i");e.slideUp(i),o.removeClass("fa-minus-square").addClass("fa-plus-square"),t||(s.slideDown(i),n.addClass("fa-minus-square").removeClass("fa-plus-square"))}))}function raven_search_bar($){var e=$(".search-container"),s=$(".search-toggle"),a="300",i=e.is(":visible");s.on("click",(function(s){var i=e.is(":visible"),t=$(this).find("i");e.slideUp(a),t.removeClass("fa-times"),i||(e.slideDown(a),t.addClass("fa-times")),s.stopPropagation()})),e.on("click touchstart",(function(e){e.stopPropagation()})),i||$(document).on("click touchstart",(function(){e.slideUp(a),$("#site-navigation").slideUp(a),s.find("i").removeClass("fa-times"),$(".menu-toggle").find("i").removeClass("fa-times")}))}function raven_widget_navigation($){var e=$(".child-terms"),s=($("#product_categories_list"),$(".category-icon")),a=$(".has-children"),i=$("#product_categories_list > li > a .category-icon");a.find(s).on("click",(function(s){s.preventDefault();var a=$(this).parent().parent().find(".child-terms"),t=$(this).parent().find("> .category-icon > i"),n=a.is(":visible");e.slideUp($speed),i.find("i").removeClass("fa-minus-square").addClass("fa-plus-square"),n||(a.slideDown($speed),t.removeClass("fa-plus-square").addClass("fa-minus-square"))}))}function raven_primary_contact_form($){var e="#raven_primary_contact_form",s=".notice-container";$(e).on("click",".button",(function(a){a.preventDefault();var i=$(this).closest(e).find('input[name="_wpnonce"]').val(),t=$(this),n=$(this).find(".icon-box").html(),o=$(this).closest(e).serialize();if(1==raven_validate($,e))return!1;raven_submit_animations($,e,"add",n),$.ajax({type:"POST",url:ravenObject.ajaxurl,data:{action:"submit_primary_form",security:i,form_data:o},success:function(a){if(null!=a&&""!=a&&0!=a&&a.length>0){a=$.parseJSON(a);$(s).append().html(a.html),$("html, body").animate({scrollTop:$(s).offset().top-50},800),t.find(".icon-box").html('<i class="far fa-hourglass"></i>'),setTimeout((function(){raven_submit_animations($,e,"remove",n,a.response)}),1800)}}})}))}function raven_validate($,e){var s=$(e).find("input,textarea,select").filter("[required]:visible"),a=($(e).find(":submit"),!1),i=!0;return $(e).find(".field > .error").remove(),s&&s.each((function(){if("email"==$(this).attr("type")&&(i=raven_validate_email_address($(this).val())),""==$(this).val()||"Please Select"==$(this).val()||0==i)return $("html, body").stop().animate({scrollTop:$(this).offset().top-80},800),$(this).focus(),0!=i?$(this).parent().append('<span class="error">This is a required field</span>'):$(this).parent().append('<span class="error">Please enter an email address</span>'),a=!0,!1})),a}function raven_conditional_fields($){var e=".conditional";$(e+' input[type="radio"]').on("change",(function(){var s=$(this).val(),a=$(this).closest(e);a.find(".condition").removeClass("visible"),a.find('[data-option="'+s+'"]').addClass("visible")}))}function raven_submit_animations($,e,s,a,i){var t=$(e).find("input,textarea,select").filter(":visible"),n=$(e).find(":submit");t&&t.each((function(){"add"==s?$(this).attr("disabled",!0):"remove"==s&&($(this).attr("disabled",!1),"sent"==i&&($(this).val(""),($(this).is(":radio")||$(this).is(":checkbox"))&&$(this).prop("checked",!1)))})),"remove"==s&&$(".condition").removeClass("visible"),"add"==s?(n.find(".icon-box").html('<i class="fas fa-spinner fa-pulse"></i>'),n.attr("disabled",!0)):"remove"==s&&(n.find(".icon-box").html(a),n.attr("disabled",!1))}function raven_validate_email_address(e){return/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(e)}function raven_password_renewal_checker($){let e=$('.woocommerce-Input[name="username"]'),s=$(".woocommerce-form-login__submit");e.on("focusin",(function(){let e=this.offsetHeight/2;s.prop("disabled",!0).addClass("disabled"),$(".spinner").length||$(this).closest(".form-row").append(`<span class="spinner" style="top: auto; bottom: ${e}px"><i class="fas fa-spinner fa-spin"></i></span>`)})),e.on("focusout",(function(){let e=$(this),a=e.val();a.length&&isEmail(a)?$.ajax({type:"POST",url:ravenObject.ajaxurl,data:{action:"password_renewal_checker",emailAddress:a},success:function(i){1!=i?$(".password-update-required").length||($(".woocommerce-form-message").append(`<span class="woocommerce-error password-update-required"><span class="error-header">Password Update Required</span>Please follow the link to change your password. <a href="${ravenObject.lostpwordURL}?email=${a}">Update Password</a></span>`),console.log(e.closest(".woocommerce-form-message"))):s.prop("disabled",!1).removeClass("disabled"),e.closest(".form-row").find(".spinner").remove()},error:function(e,s){error_report(e,s)}}):(s.prop("disabled",!1).removeClass("disabled"),$(this).closest(".form-row").find(".spinner").remove())}))}function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function error_report(e,s){0===e.status?console.log("Not connect.\n Verify Network."):404==e.status?console.log("Requested page not found. [404]"):500==e.status?console.log("Internal Server Error [500]."):"parsererror"===s?console.log("Requested JSON parse failed."):"timeout"===s?console.log("Time out error."):"abort"===s?console.log("Ajax request aborted."):console.log("Uncaught Error.\n"+e.responseText)}!function($){$(document).ready((function(){raven_list_layout($),raven_main_navigation($),raven_search_bar($),raven_password_renewal_checker($),raven_primary_contact_form($),raven_conditional_fields($)}))}(jQuery);